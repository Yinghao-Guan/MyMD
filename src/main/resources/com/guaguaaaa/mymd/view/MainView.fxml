<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.web.WebView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.Button?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.guaguaaaa.mymd.view.MainView">
    <children>
        <javafx.scene.control.MenuBar>
            <menus>
                <javafx.scene.control.Menu text="File">
                    <items>
                        <javafx.scene.control.MenuItem text="Open..." onAction="#handleOpen"/>
                        <javafx.scene.control.MenuItem text="Save" onAction="#handleSave"/>
                        <javafx.scene.control.MenuItem text="Save As..." onAction="#handleSaveAs"/>
                        <javafx.scene.control.SeparatorMenuItem />
                        <javafx.scene.control.MenuItem text="Exit" onAction="#handleExit"/>
                    </items>
                </javafx.scene.control.Menu>
            </menus>
        </javafx.scene.control.MenuBar>

        <HBox alignment="CENTER_RIGHT" spacing="10" style="-fx-padding: 10;">
<!--            <Button text="Convert to HTML Preview" onAction="#handleConvert" />-->
            <Button text="Save as LaTeX" onAction="#handleSaveAsLatex" />
        </HBox>

        <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 0 10 10 10;">
            <javafx.scene.control.Label text="Citation Template:" style="-fx-font-weight: bold;"/>
            <javafx.scene.control.TextField fx:id="templateField" HBox.hgrow="ALWAYS"
                                            promptText="Enter citation template"
                                            text="{author} ({year}). {title}. *{journal}*, {volume}({issue}), {page}. https://doi.org/{doi}"/>
        </HBox>

        <SplitPane VBox.vgrow="ALWAYS" dividerPositions="0.5">
            <items>
                <TextArea fx:id="inputTextArea" promptText="Enter your MyMD content here..." style="-fx-font-family: 'Consolas';"/>
                <WebView fx:id="previewWebView" />
            </items>
        </SplitPane>

        <HBox spacing="10" style="-fx-padding: 5; -fx-background-color: #f0f0f0; -fx-border-color: #cccccc; -fx-border-width: 1 0 0 0;">
            <javafx.scene.control.Label text="Status:"/>
            <javafx.scene.control.Label fx:id="statusLabel" text="Ready" style="-fx-text-fill: #333333;"/>
            <javafx.scene.control.ProgressBar fx:id="progressBar" progress="0.0" visible="false" prefWidth="100"/>
        </HBox>
    </children>
</VBox>